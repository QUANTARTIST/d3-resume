/*! D3-resume v1.1.0 https://github.com/glena/d3-resume | Germ√°n lena https://github.com/glena/*/
var d3Resume=function(c){var l=null,n=d3.time.format("%m/%d/%Y"),p=d3.time.format("%Y-%m-%d").parse,g=null,h=null,q=null,r=null,s=function(c){var a=0;c.forEach(function(b){b.id=a++;b.from=p(b.from);null==b.to?b.pto=new Date:(b.to=p(b.to),b.pto=b.to)})},t=function(c){c.forEach(function(a){a.diameter=h(a.pto)-h(a.from);null==a.to&&(a.diameter*=2)});c.sort(function(a,b){return b.diameter-a.diameter})},k=function(c,a,b,d,m){c.append("text").style("fill","white").attr("font-size",a).style("font-weight",
d).text(m).attr("transform",b)},v=function(g,a,b,d,m,f){f=g.selectAll("g.info."+d).data(b).enter().append("g").attr("class",function(e){return d+e.id}).classed("info",!0).classed(d,!0).attr("transform","translate("+[0.1*c.width,f]+")").attr("fill-opacity",0);k(f,"18px","translate(0,0)","normal",function(e){return e.type});k(f,"18px","translate(0,25)","normal",function(e){return e.title});k(f,"23px","translate(0,50)","normal",function(e){return e.institution});k(f,"14px","translate(0,70)","bold",function(e){var a=
n(e.from)+" - ";return a=null==e.to?a+"Now":a+n(e.to)});f=f.selectAll("text.description").data(function(a,b){var c=70;return a.description.split("\n").map(function(a){c+=20;return{text:a,position:c}})}).enter();k(f,"14px",function(a){return"translate(0,"+a.position+")"},"normal",function(a){return a.text});a.selectAll("path."+d).data(b).enter().append("path").classed(d,!0).classed("item",!0).attr("fill",function(a){a=CryptoJS.SHA1(a.title).toString(CryptoJS.enc.Hex);return"#"+(Array(6).join("0")+
a.toString(16)).substr(-6).split("").reverse().join("")}).attr("fill-opacity",0.6).attr("stroke","#FFFFFF").attr("stroke-width","2").attr("d",function(a){a=a.diameter;var b=a/2;return"M0,0 q "+b+" "+m*(100+0.7*b)+" "+a+" 0 z"}).attr("transform",function(a){return"translate("+[h(a.from),0]+")"}).on("mouseover",function(b){a.selectAll("path.item").transition().attr("stroke-width","1").attr("fill-opacity",0);d3.select(this).transition().attr("stroke-width","2").attr("fill-opacity",1);l&&(clearTimeout(l),
l=null);u();g.selectAll("g.info."+d+"."+d+b.id).transition().attr("fill-opacity",1)}).on("mouseout",function(b){a.selectAll("path.item").transition().attr("stroke-width","2").attr("fill-opacity",0.5);l=setTimeout(u,3E3)})},u=function(){g.selectAll("g.info").transition().attr("fill-opacity",0)},g=d3.select(c.wrapperSelector).append("svg").attr("width",c.width).attr("height",c.height),h=d3.time.scale().range([20,c.width-20]),q=d3.scale.linear().range([c.height,0]);q.domain([0,c.height]);r=d3.svg.axis().scale(h).orient("bottom").ticks(30).tickFormat(d3.time.format("%Y-%m"));
d3.json(c.dataUrl,function(k,a){s(a.experience);s(a.study);h.domain([d3.min([d3.min(a.experience,function(a){return a.from}),d3.min(a.study,function(a){return a.from})]),d3.max([d3.max(a.experience,function(a){return a.pto}),d3.max(a.study,function(a){return a.pto})])]);t(a.experience);t(a.study);var b=g.append("g").attr("class","graph-container").attr("transform","translate("+[0,c.height-200]+")"),d=b.append("g").attr("class","x axis").attr("transform","translate(0,0)").call(r);d.selectAll("path").attr("fill",
"none").attr("fill-opacity","1").attr("stroke","#FFFFFF").attr("stroke-width","1px");d.selectAll("text").style("text-anchor","end").style("fill","white").attr("transform","rotate(-60)");b.append("text").style("fill","white").classed("label",!0).attr("font-size","18px").text("WORKS").style("text-anchor","center").attr("transform","translate(15,-55) rotate(-90)");b.append("text").style("fill","white").classed("label",!0).attr("font-size","18px").text("STUDIES").style("text-anchor","center").attr("transform",
"translate(15,130) rotate(-90)");v(g,b,a.experience,"experience",-1,c.height/8);v(g,b,a.study,"study",1,c.height/8)})};